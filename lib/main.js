document.addEventListener('DOMContentLoaded',()=>{updateContact()});// PoS map
let map,infowindow,service,bounds;const locations=['On Tap Craftgallery','Wartsaal Kaffee Bar B\xFCcher','Restaurant Eiger'];function updateContact(){// make life hard for bots
var a=document.createElement('a'),b=atob('bWFpbHRvOiV1c2VyJUAlZG9tYWluJS5jb20='),c=b.replace('%user%','unikum').replace('%domain%','ikmail'),d=atob('JXVzZXIlQCVkb21haW4lLmNvbQ=='),e=d.replace('%user%','unikum').replace('%domain%','ikmail');a.setAttribute('href',c),a.innerText=e,document.getElementById('cntct').appendChild(a)}function initMap(){map=new google.maps.Map(document.getElementById('pos-map'),{center:{lat:46.94801819792631,lng:7.448263930454019},//,
zoom:13,mapId:'7ffd2af25c6a5a58',mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),bounds=new google.maps.LatLngBounds,infowindow=new google.maps.InfoWindow,service=new google.maps.places.PlacesService(map),locations.forEach((a,b)=>{service.findPlaceFromQuery({query:a,fields:['name','geometry','formatted_address','place_id']},(a,c)=>{c===google.maps.places.PlacesServiceStatus.OK&&a&&(createMarker(a[0]),b==locations.length-1&&map.fitBounds(bounds))})})}function createMarker(a){if(!a.geometry||!a.geometry.location)return;const b=new google.maps.Marker({map,position:a.geometry.location});// show location info on click
bounds.extend(b.getPosition()),google.maps.event.addListener(b,'click',()=>{const c=document.createElement('div'),d=document.createElement('span');d.textContent=a.name,d.classList.add('subtitle','is-size-6'),c.appendChild(d);const e=document.createElement('p');e.textContent=a.formatted_address,c.appendChild(e),infowindow.setContent(c),infowindow.open(map,b)})}window.initMap=initMap;